# 验证设计：core-history

## 模块目标（用户视角）

用户可以查看、复用之前合成的图片，避免重复操作。

## 验收标准（AC）

### AC-1：自动保存历史

- **场景**：用户合成大图
- **操作**：点击 [合成大图] 并复制
- **预期**：合成图自动保存到历史记录

### AC-2：查看历史列表

- **场景**：用户想查看历史
- **操作**：点击 [历史记录]
- **预期**：显示历史列表，按时间倒序，显示缩略图和时间

### AC-3：预览历史图片

- **场景**：用户想查看某条历史
- **操作**：点击历史项的 [预览]
- **预期**：显示该历史的完整合成图

### AC-4：复制历史图片

- **场景**：用户想复用历史图片
- **操作**：点击历史项的 [复制]
- **预期**：该历史图片被复制到剪贴板

### AC-5：删除历史记录

- **场景**：用户想删除某条历史
- **操作**：点击历史项的 [删除]
- **预期**：该记录被删除

### AC-6：自动清理

- **场景**：历史记录超过上限
- **操作**：持续使用，产生大量历史
- **预期**：自动删除最旧记录，保持总数在上限内

### AC-7：应用重启后历史保留

- **场景**：重启应用
- **操作**：关闭并重新打开 BatchNote
- **预期**：历史记录仍然存在

## 验证偏好（参考，非强制）

- 存储逻辑可用单元测试
- UI 交互建议手动验证

## 验证手段

> 留给执行模型决定
