# 开发计划：core-history

## 任务分解

### Phase 1：存储层

- [ ] 1.1 确定存储目录（%LOCALAPPDATA%\BatchNote\history）
- [ ] 1.2 实现图片保存
- [ ] 1.3 实现元数据保存（JSON）
- [ ] 1.4 实现历史列表读取

### Phase 2：服务封装

- [ ] 2.1 创建 HistoryService
- [ ] 2.2 实现保存历史记录
- [ ] 2.3 实现获取历史列表
- [ ] 2.4 实现删除历史记录
- [ ] 2.5 实现自动清理（超过N条删除最旧）

### Phase 3：UI

- [ ] 3.1 创建 HistoryForm 历史窗口
- [ ] 3.2 实现历史列表显示（缩略图+时间）
- [ ] 3.3 实现预览历史图片
- [ ] 3.4 实现复制历史图片到剪贴板
- [ ] 3.5 实现删除历史记录按钮

## 任务依赖

- Phase 2 依赖 Phase 1 完成
- Phase 3 依赖 Phase 2 完成

## 预估工时

| 任务 | 预估 | 实际 |
|------|------|------|
| Phase 1 | 2h | - |
| Phase 2 | 2.5h | - |
| Phase 3 | 2.5h | - |
| **合计** | **7h** | - |
